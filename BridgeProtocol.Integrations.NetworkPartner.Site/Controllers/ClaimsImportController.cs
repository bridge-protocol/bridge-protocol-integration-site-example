using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using BridgeProtocol.Integrations.Models;
using BridgeProtocol.Integrations.NetworkPartner.Site.Models.ViewModels;
using BridgeProtocol.Integrations.Services;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Extensions.Configuration;

namespace BridgeProtocol.Integrations.NetworkPartner.Site.Controllers
{
    public class ClaimsImportController : Controller
    {
        private ServiceWrapper _service;

        public ClaimsImportController(IConfiguration configuration)
        {
            _service = new ServiceWrapper(configuration);
        }
        // GET: ClaimsImport
        public ActionResult Index()
        {
            var claimPackages = new List<ClaimPackage>();
            var claimPackage = new ClaimPackage
            {
                Claim = "2d2d2d2d2d424547494e20504750204d4553534147452d2d2d2d2d0a56657273696f6e3a204b657962617365204f70656e5047502076322e302e38320a436f6d6d656e743a2068747470733a2f2f6b6579626173652e696f2f63727970746f0a0a7758344432533766686d674f7269455341674d452f6c4e594538324b6f424c2b6b4e773571686a56616935773859702f665a4933636244614e63584f4e63692b0a5669347746685452474b2f482b76685570784146577135657456396c7332412b7a4c33766d4d384b546a44556b7a674b39695648743669586958357248794f510a475349794f6b7534576b6c7938716949596244416c7444516c4478306d6e4732326956554a4d69674e357a53787530427a6c51616c38424d4e326557796a68520a6854344457487a525a7458364536334971366a50556b52687134386e576372554e71397644625a6a6b2f4d496869525672377458476d4b614a6a324f567663570a7464756d694d30446f69686a6a4a777a4f7178574858356f344c5a6a676b612f77636c365543314562525231516d7575505a5933467a6b6137596a76756959580a5879566e745246777a553946717a6a58493254544b64546250694b6574574c72322b7964345933596a45436176346442485a702f48726132746c4e69734c32360a712b75727a614b6c556e73684d4755754f586c6347715874436262566d306735766d5a3755512f374b506b4d456b4f662f4f54754f3235684b49626d363763490a43736e687a48736c2b364a663332397644477a63443857694247564b58746669505a7369584f54554e68473970307537715768524f4f70624c763359746171540a7962514457305143666f7a77436b455364356a472f42696d324f4144692b4e2b514f494649464d33357a576259435a4266475437746634357a4136565777396e0a67726e2f2f4a393473546b6f616c6251724169665853364437776639484f34707979457179556354594f6279716d794b626a3069653178623431516e6a62694b0a6b514a705731533030654f72725148724d35536a5249627341795067425734506462514a6d42792b4f6f574e77704d77536d783051624c64565a44395a646c580a48714f444a575038736250324e4859355a5839393536562b6d697778363465555257745061734f4e3378786a4970746870685654366d78555a704d6265464f660a666973355a2b4c2b4557722b715a67796344556e5135574a73456463726a77363236506f672b544b33436b546d424c76506a32316d4f6f3879594a4c323077350a30473942595630745054385772524652316f46636355484c6c4a597372654c514a4f65707a4137414d4246574d596f4679426862312f594b4c2b705164655a760a634e58324f5367374a6f767a764973502b4638524c333133586132672f7363395774475a6f366e757537452f2f74676f70763148726a38734c555877343141660a69484f34354b4d38706d4e366838577541577a432f69676b4c5945516577567255514976657871694f335767447a392f5835354b3348786c36356e322f4c51700a55744231316e427337645a684c784a58572f6d6233554a4e697a544b4b2b42656e305051726b696d64646772775572562b547374526c4e7a57377665636171710a7a48477a59555a6772635666566542622b35696854306f4a54385150586f776e474a697170656c67746c33787353744377737a684f6b6239314a4353597a72780a5456313237527538663648462b31756c346963446c566b366d5676454d314766693649704a30456a47627a466a6a686c51536d4178564a4d767a6a4957797a310a747850346f556d4b497a5458664b6b654141754a354768517a565772596a336d4950736d466f536b5342344d4f633234574f63586b53614d484f77686d6355520a386a2b79443778304f774873414936613855624d437a525935325433792b48575657794e5670483365696148585448443066624a733177626852324f377741570a7834324c775a71464e564c755a666466526a374e7a503270304348456463514a4e796b7530666965767476786f4b305230522b3062324569524e4d342f5569330a7831364e54686863712f50453454693236504d30764a39446277524d49435057754f5a3370447275544458383541646b7a537172556a694c335a6277382f50560a553530466146424c7775413051425250365676375259726a4447546157514a6868314f6276393355466f775246393464314b686375484a393649776b467a53630a4e566c584d53584d2b307750555a623770655656466f7a65612b5774646a2b686b4a75746b362f5970725355464d454f526252695a76737a78395646634243720a336a6a3954486470774e705932384253336472555a744f4b4f5151774c426b425370676b6c616246692f4a48683631482f3476474e4a43416e703239574376730a67454e4d37557366653974366c4b6d446a7473316b3047545037784a3947703554795748674e6856756e6e7a413643355974694a794263385336676b5438476f0a33433167335834594a306558564737665074642f34777674772b6365462b55556a335330695042677277364d414e536b39313334513863505a437a6d396b70340a676a486f3535596f62754a506379304c41427278453879726f7a3452715835626754466233686c4676496961516171416264316342694a6771776e67427752410a644f636b2f796c706e544d5a4e724959317276683173735855545a6c4f497a4839724e70334172346a5a333865544a31442f43323051536a7a777664717665660a47506e7a376642316b45436c515663677263566a4231594b7a332b6d61486c337657303038334d7275677a6e4c4d3677323332387938356a5771384a3044675a0a5265564c6e6c72364244766979762f477058436769642f5a4d6f666a625a6256636468363735624a7941486f5766386b776a734e33564e542b423667382b53320a456b6c66394f6f316b3539534d61472f386d34516e54505331646438463672682b5230632b496465326c5044394b7673453451476638764d5765573758442f460a6169686766472b4f2f54303749516d325156706556523230326f6a426c7452347351627a324f4173725a2b6a6a492f6c494b77346c617848576f592b30524a510a3157794335796f48704242306630586c5834436b755278555237514f76545a57784d4f7035344a6b5345586f687462334e3558735073765a4a386e6261566e730a4653334459416f37794c376273745a4b4c6a424946376e614f326279514b51777767592f7161366c556739515159692b4652524830386e4d4f595954712b306e0a445653583933666f4537696e6e4b6875656e5752682b6f6e7335716f496c756f434b5530423738774c7568304c614c4d2f5551475a64594749562f4356446f410a657659633676386271684272333731633074456f6e4641496e70557571766567393668575039414935447a614656726e78534f494d56392b65493150576a35570a39726359464f4e4257794a74533679446342594c536e4e51677536546a4b6c4e4e664b5a686c706b376f416f753644736c5336634744434a3257676a763669740a3850382f545a49683847496b47666a544d795556656c6730444d394d613376376b4c74593033754f72386e614b44516e366a5735316a4c6c4358516b5a4963390a70396f696b6b6d4973304852335168446c6e475a6d7137394561736c5a5871474373386b56584e6d77535479584573576158544462512b527042426c515a67500a4e6a6f456e664858566454764e2f554b37384f6c4d73707969635a694c766a413466734b30444d6839646a51372b4266534e4a56424e56366d796d4a435938740a4f494b773955666d6a415578646e393862584858786b73627138324f386d2b5947534d7757504d58316b4c2b68786c33335a6b4962513774626746736f7476570a4f744435762b6141644e4765506735324b52796b4844565878716f4466532f5757446f6a657330635570343d0a3d33566c710a2d2d2d2d2d454e4420504750204d4553534147452d2d2d2d2d0a",
                SignedBy = "2d2d2d2d2d424547494e20504750205055424c4943204b455920424c4f434b2d2d2d2d2d0a56657273696f6e3a204b657962617365204f70656e5047502076322e302e38320a436f6d6d656e743a2068747470733a2f2f6b6579626173652e696f2f63727970746f0a0a786d384558482b734e684d464b34454541434944417753523271707949585168386a6f6f7936794c52624b546942585345467a537a2f4d615976516e395649360a795a4a7634584e38525139744d733957593771665474694e4f324e41437635324b634b4c46752f2b456a486a4d6f4c78596671334739693762495565654d55740a7a62734245675944553031646f31715641515a6141767a4e466e567a5a584a41596e4a705a47646c63484a766447396a6232777561572f436c67515445776f410a4867554358482b734e67496241514d4c4351634446516f494168344241686541417859434151495a4151414b435241656a4e70716939337862576a49415944690a3870594b766148594b512b2b3555654a58425653377a704f3441485943675a4f4872696e4458325037476f766669524a65416e4851597a7576587079577677420a6632684c73424666354938796b6b2b4c30332b56575269723665795135454268394c764f69796b4f6a447852766b6d53524273466b5152624f366a52706176780a384d35574246782f7244595343437147534d34394177454841674d455a7a6e394e476b4f4757757147666564753237334577565050324e6f4d6c725a2b73567a0a6b65524d6b3257785635395a6876764f622b79694e4b4d5964393370505737545a75304d33707970363176444977496e76414d4243676e436877515945776f410a4477554358482b734e67554a44776d63414149624441414b435241656a4e7071693933786261776d41583439465564637a735044367a6c304a6663384552716f0a39416d686f746b42414f7835734876696730564c5a396e46552b726947664b734d624a58316639772b645942674c49365a4c45754132425841586536382f63690a56363242324c704a354235765352436b6e6a356c2f376464596f5a4b34762b6575634a38514f54596132454c4b7335534246782f7244595443437147534d34390a4177454841674d454c6e55467059446534554d51663669697359314f585a32336f6350445937575449696165575a51667a4d37736b6a7437656e4841705136770a334768424c376468785043484a5251526877487a594c2b6e6d4f364e6d4d4c414a77515945776f414477554358482b734e67554a44776d6341414962496742710a435241656a4e7071693933786256386742426b544367414742514a636636773241416f4a45427a3278412b627a32726e61484d42414f30374b4f505242384c4a0a384f575467376a732b6b5678763152566f557a506b466655756f354257452f2f4150774a4f6e3637764f684857634870796f6f6a6f7553554b53774f655554330a64784e7272414c4b2f6f3758383557744158394462707a48346459476c372f6f76515667456f6f48585a79374f6874366f6b56576b7a506f6f5a324e4b2f356d0a42654b3473362b362b61486d467376704a4c51426750757534476a686935795a703348326e6866727a54554e786c6850744a787a2b454a744d7973455432386c0a565735426a643666766a6d6b743051625039472b61773d3d0a3d585855540a2d2d2d2d2d454e4420504750205055424c4943204b455920424c4f434b2d2d2d2d2d0a",
                TypeId = 3
            };
            claimPackages.Add(claimPackage);
            return View(new ClaimsImportViewModel
            {
                ClaimsImportRequest = _service.CreateClaimsImportRequest(claimPackages)
            }); 
        }
    }
}